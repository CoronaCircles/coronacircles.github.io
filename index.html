<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Heroic Features - Start Bootstrap Template</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/heroic-features.css" rel="stylesheet">

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">Corona Circles</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
        </ul>
      </div> -->
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">

    <header class="jumbotron my-4">
      <h1 class="display-3">Corona Circles</h1>
      <p class="lead">

Why?

In times of social distancing we meet online to create encounters, where we listen to what touches us deeply. To do this, we combine the powerful tradition of the circle work with the current possibilities of video conferencing.

Since the beginning of time, people have been coming together in circles to share about themselves and their concerns. Let us use this online tool to get out of our isolation and experience online circles, in which we feel seen and heard.    


How do you find one another?

On this platform you can join a CoronaCircle or invite others to one. Up to 7 people come together and talk about what moves them and listen to each other carefully.

Let us form a network of self-organized circles in order to support each other in these extraordinary times!


Flow of a CoronaCycle?

The CoronaCircle method is simple and effective. It provides a framework that helps to create a respectful and appreciative communication at eye level.

    Welcome

    A moment of silence

    First round: Who and where am I?

    Second round: How am I doing? What do I need? What touches or inspires me?

    Third round: What do I take with me from this CoronaCircle?


What is helpful?

    Rejoicing in meeting people

    Listening benevolently and impartially

    Courage to show myself with my own feelings, worries and experiences

    Making sure that I speak about myself when I talk

    Mindful handling of what is shared

    Silence is also a form of sharing
      </p>
    </header>
    
    <header class="jumbotron my-4">
      <h1 class="display-3">Host a Corona Circle</h1>
      <p class="lead">

        Inviting to a CoronaCircle is easy!
        
        When you register, you choose a time frame for the Circle and the language for the call.
        
        As a host your tasks are:
        
            to welcome everyone and to bring to their awareness the suggestions and the procedure as they are formulated for you in the confirmation mail
        
            mark the beginning of each round
        
            watch the time (and start the integrated timer as soon as a person starts talking)
        
        When a person has finished speaking, he or she names the next person. When all have spoken, the word is passed on to the host and the final round is initiated.
        
        Enjoy!
        
      </p>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-xl">Create a CoronaCircle</button>
    </header>

    <header class="jumbotron my-4">
      <h1 class="display-3">Join Event</h1>
      <div class="row text-center" id="events-row"></div>
    </header>
  
  </div><!-- /.container -->
  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">&copy; Corona Circles</p>
    </div>
    <!-- /.container -->
  </footer>

<!-- Form to host a circle -->
<div id="host-modal" class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <form id="hostForm" name="host-form">
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">First Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="first_name" placeholder="First Name">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Last Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="last_name" placeholder="Last Name">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Display Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="display_name" placeholder="Display Name">
          </div>
        </div>
      
        <div class="form-group row">
          <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="email" class="form-control" id="host_email" placeholder="Email">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Circle Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="circle_name" placeholder="Circle Name">
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1" class="col-sm-2 col-form-label">Circle Frequency</label>
          <select class="form-control" id="circle_frequency">
            <option>Daily</option>
            <option>Weekly</option>
            <option>Monthly</option>
          </select>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Time</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="time" placeholder="Time">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Time Zone</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="time_zone" placeholder="Time Zone">
          </div>
        </div>
        
        <div class="form-group row">
          <div class="col-sm-10">
            <button type="submit" id="submit-host" class="btn btn-primary submit-host">Submit</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            
          </div>
        </div>

        <div class="form-group row">
          <div id="host-msg-div" class="col-sm-12">
            <button id="host-msg" type="button" class="d-none btn btn-secondary"></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Form to register for event -->
<div id="participant-modal" class="modal fade bd-example-modal-s" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <form id="register-event">
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">First Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="participant-first-name" placeholder="First Name">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Last Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="participant-last-name" placeholder="Last Name">
          </div>
        </div>
        <div class="form-group row">
          <label for="formGroupExampleInput" class="col-sm-2 col-form-label">Display Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="participant-display-name" placeholder="Display Name">
          </div>
        </div>
        <div class="form-group row">
          <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="email" class="form-control" id="participant_email" placeholder="Email">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-12 col-form-label">By submitting this form, I agree to receive email address with the link to join the conversation!</label>
        </div>
        <div class="form-group row">
          <div class="col-sm-10">
            <button id="submit-participant" type="button" class="btn btn-primary">Submit</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <button id="participant-msg" type="button" class="d-none btn btn-secondary"></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function() {
  
    $('#submit-host').click(function(e){
      e.preventDefault();
      
      var host = JSON.stringify({
            first_name: $("#first_name").val(),
            last_name:$("#last_name").val(),
            display_name:$("#display_name").val(),
            email:$("#host_email").val(),
            circle_name:$("#circle_name").val(),
            circle_frequency:$("#circle_frequency option:selected").val(),
            time:$("#time").val(),
            time_zone:$("#time_zone").val()                
        });
        // TODO: Send data to server


    });

    // Submit particpants data
    $('#submit-host').click(function(e){
      
      e.preventDefault();
      
      var host = JSON.stringify({
            first_name: $("#participants-first-name").val(),
            last_name:$("#participants-last-name").val(),
            display_name:$("#participants-display-name").val(),
            email:$("#participants-email").val(),
            event_id:$("#hidden-event-id").val()
        });
        
        // This is just for demo
        setTimeout(function() {
          $('#submit-host').text("Sending...")
        }, 1000);
        setTimeout(function() {
          $('#submit-host').attr('disabled', true);
          $('#host-msg').removeClass('d-none').html('<b>Your circle has been created. Please check your email.</b>');
        }, 3000);
        setTimeout(function() {
          $('#host-modal').modal('hide');
          // $('#host-modal').modal('dispose');
        }, 6000);

         // TODO: Send data to server.
    });

  
    // TODO: Need to fetch the event details from 
    // backend.

    // Example event details to mockup
    var eventArray = [{
      id : 1,
      title : "test1",
      date : "12/02/2012",
      time : "12:10",
      language : "German",
      time_zone: "GMT",
      seats : 1
    },
    {
      id : 2,
      title : "test2",
      date : "12/02/2012",
      time : "12:10",
      time_zone: "CET",
      language : "German",
      seats : 1
    }
  ];
  
  // Add the Events to the HTML
  for (var i = 0; i < eventArray.length; i++) {  
    // main row wrapper
    var divWrapper = document.createElement('div');
    divWrapper.setAttribute('class', 'col-lg-3 col-md-6 mb-4');
    var wrapperID = "wrapper-" + i;
    divWrapper.setAttribute('id', wrapperID);  
    document.getElementById('events-row').appendChild(divWrapper);
    
    // row
    var divCard = document.createElement('div');
    divCard.setAttribute('class', 'card h-60');
    var divCardID = "card-" + i;
    divCard.setAttribute('id', divCardID);
    divWrapper.appendChild(divCard);

    // populate body
    var divCardBody = document.createElement('div');
    divCardBody.setAttribute('class', 'card-body');
    var cardBOdayID = "card-body-" + i; 
    divCardBody.setAttribute('id', cardBOdayID);
    divCard.appendChild(divCardBody);

    var h4 = document.createElement('h4');
    h4.textContent = eventArray[i].title;
    h4.setAttribute('class', 'card-title');
    divCardBody.appendChild(h4);

    var pLang = document.createElement('p');
    pLang.textContent = "Language: "+ eventArray[i].language;
    pLang.setAttribute('class', 'card-text');
    divCardBody.appendChild(pLang);

    var pSeats = document.createElement('p');
    pSeats.textContent = "Available Seats: " + eventArray[i].seats;
    pSeats.setAttribute('class', 'card-text');
    divCardBody.appendChild(pSeats);

    var pSeats = document.createElement('p');
    pSeats.textContent = "Date: " + eventArray[i].date;
    pSeats.setAttribute('class', 'card-text');
    divCardBody.appendChild(pSeats);

    var pSeats = document.createElement('p');
    pSeats.textContent = "Time: " + eventArray[i].time;
    pSeats.setAttribute('class', 'card-text');
    divCardBody.appendChild(pSeats);

    var pSeats = document.createElement('p');
    pSeats.textContent = "Time Zone: " + eventArray[i].time_zone;
    pSeats.setAttribute('class', 'card-text');
    divCardBody.appendChild(pSeats);

    //populate footer
    var divCardFooter= document.createElement('div');
    divCardFooter.setAttribute('class', 'card-footer');
    var divCardFooterID = "cards-footer-" + i;
    divCardFooter.setAttribute('id', divCardFooterID);
    divCard.appendChild(divCardFooter);
  
    var joinEventBtn = document.createElement('button');
    joinEventBtn.textContent = "Join";
    joinEventBtn.setAttribute('id', 'join-' + eventArray[i].id);
    joinEventBtn.setAttribute('class', 'btn btn-primary join-event');
    joinEventBtn.setAttribute('data-toggle','modal'); 
    joinEventBtn.setAttribute('data-target','.bd-example-modal-s');
    joinEventBtn.setAttribute('data-id', eventArray[i].id);
    divCardFooter.appendChild(joinEventBtn);
    
  }

  // Add Event ID to the form.
  $('.join-event').click(function () {
   
    if (document.contains(document.getElementById("hidden-event-id"))) {
        document.getElementById("hidden-event-id").remove();
    } 
    
    $('<input>').attr({
      type: 'hidden',
      id: 'hidden-event-id',
      name: 'event_id',
      value: $(this).attr('data-id')
    }).appendTo('#register-event');
  });


  $('#submit-participant').click(function(e){
    e.preventDefault();
    setTimeout(function() {
          $('#submit-participant').attr('disabled', true).text("Sending...");
        }, 1000);
    setTimeout(function() {
          $('#join-1').attr("disabled", true);
          $('#participant-msg').removeClass('d-none').html('<b>You have been registered. Please check your email.</b>');
        }, 3000);
    setTimeout(function() {
          $('#participant-modal').modal('hide');
          $('#submit-participant').removeAttr('disabled').text("Send");
          $('#participant-msg').addClass('d-none');
          // $('#host-modal').modal('dispose');
        }, 6000);
  });
      

});// doc close

  
  </script>
</body>

</html>
